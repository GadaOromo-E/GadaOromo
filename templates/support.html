
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donate | {{ APP_NAME }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <!-- ‚úÖ PWA -->
  <link rel="manifest" href="{{ url_for('static', filename='manifest.webmanifest') }}">
  <meta name="theme-color" content="#0b5cff">

  <!-- ‚úÖ iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="{{ APP_NAME }}">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/apple-touch-icon.png') }}">
</head>
<body>

<!-- OPTIONAL: tiny splash overlay (native feel) -->
<div id="bootSplash" style="position:fixed; inset:0; background:#fff; display:flex; align-items:center; justify-content:center; z-index:2000;">
  <div style="text-align:center;">
    <div style="font-size:42px;">üìò</div>
    <div style="margin-top:8px; font-weight:700;">{{ APP_NAME }}</div>
    <div class="muted" style="margin-top:6px;">Loading‚Ä¶</div>
  </div>
</div>
<script>
  window.addEventListener("load", () => {
    const el = document.getElementById("bootSplash");
    if (el) el.style.display = "none";
  });
</script>

<!-- PWA Update Bar -->
<div id="pwaUpdateBar" class="card" style="display:none; position:sticky; top:0; z-index:999; margin:0; border-radius:0;">
  <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
    <div>
      <b>Update available</b>
      <div class="muted" style="font-size:14px;">Reload to get the latest version.</div>
    </div>
    <div style="display:flex; gap:8px;">
      <button class="btn primary" type="button" data-reload>Reload</button>
      <button class="btn" type="button" data-close>Later</button>
    </div>
  </div>
</div>

<!-- iOS Install Help -->
<div id="iosInstallHelp" class="card" style="display:none; margin-top:10px;">
  <b>Install on iPhone</b>
  <div class="muted" style="margin-top:6px; line-height:1.5;">
    Tap <b>Share</b> (‚¨ÜÔ∏è) ‚Üí <b>Add to Home Screen</b>.
  </div>
</div>

<!-- Toast -->
<div id="pwaToast" class="card" style="display:none; position:fixed; left:12px; right:12px; bottom:12px; z-index:1000;">
  <span data-msg></span>
</div>

<div class="container">

  <header class="topbar">
    <div class="title-row">
      <div class="brand">
        <h1 style="margin:0;">{{ APP_NAME }}</h1>
        <p class="tagline">Support the Oromo ‚Üî English learning community</p>

        <div class="small-actions" style="margin-top:10px; display:flex; flex-wrap:wrap; gap:8px;">
          <a class="btn" href="/">üè† Home</a>
          <a class="btn" href="/translate">üåç Translate</a>
          <a class="btn" href="/learn">üìö Learn</a>
          <a class="btn primary" href="/support">‚ù§Ô∏è Donate</a>

          <!-- ‚úÖ Install button -->
          <button id="installBtn" class="btn primary" type="button" style="display:none;">‚¨áÔ∏è Install App</button>
        </div>
      </div>
    </div>
  </header>

  <nav class="nav">
    <a class="nav-link" href="/">Home</a>
    <a class="nav-link" href="/translate">Translate</a>
    <a class="nav-link" href="/learn">Learn</a>
    <a class="nav-link" href="/support">Donate</a>
    <a class="nav-link" href="/submit">Submit Word</a>
    <a class="nav-link" href="/submit_phrase">Submit Phrase</a>
  </nav>

  <section class="card">
    <h2>‚ù§Ô∏è Donate (minimum {{ SUPPORT_MIN_NOK }} NOK)</h2>
    <div class="subtle">
      Donations help pay for hosting, development, and future AI learning features.
    </div>

    <div class="divider"></div>

    <h3>International payments</h3>
    <div style="margin-top:10px; line-height:1.5;">
      <p>
        Supporters can pay in their own currency (USD / EUR / GBP, etc).
        Stripe automatically converts it, and <b>you receive NOK</b> in your Norwegian bank account
        (after fees and conversion).
      </p>
      <p class="muted" style="margin-top:8px;">
        Note: On the Stripe checkout page, supporters can increase quantity to donate more
        (example: 2 √ó {{ SUPPORT_MIN_NOK }} NOK = {{ SUPPORT_MIN_NOK * 2 }} NOK).
      </p>
    </div>

    <div class="divider"></div>

    <h3>Donate</h3>

    {% if DONATE_URLS and DONATE_URLS.get("custom") %}
      <div class="quick-actions" style="margin-top:12px;">
        <a class="btn primary" href="{{ DONATE_URLS.get('custom') }}" target="_blank" rel="noopener">
          Donate ({{ SUPPORT_MIN_NOK }} NOK+)
        </a>
      </div>

      <div class="muted" style="margin-top:10px; font-size:14px;">
        Payments open in a secure Stripe checkout page.
      </div>
    {% else %}
      <div class="result-box" style="margin-top:12px;">
        <b>Donation is not connected yet.</b><br>
        Please set <code>STRIPE_DONATE_CUSTOM_URL</code> in Render Environment Variables.
      </div>

      <div class="muted" style="margin-top:10px; font-size:14px; line-height:1.5;">
        Example env vars:
        <div style="margin-top:8px;">
          <code>STRIPE_DONATE_CUSTOM_URL</code><br>
          <code>SUPPORT_MIN_NOK</code>
        </div>
      </div>
    {% endif %}

    <div class="divider"></div>

    <h3>What your donation supports</h3>
    <div style="margin-top:10px; line-height:1.6;">
      <p>‚Ä¢ Hosting (Render), database storage, and domain costs</p>
      <p>‚Ä¢ Better dictionary search and suggestions</p>
      <p>‚Ä¢ Community audio improvements (recording + approval)</p>
      <p>‚Ä¢ Future: AI teacher for Afaan Oromo ‚Üî English</p>
    </div>

    <div class="divider"></div>

    <h3>Thank you</h3>
    <div class="subtle">
      This is a community project. Every donation helps keep it alive and improving.
    </div>
  </section>

  <footer class="footer">
    <p>¬© 2026 GadaOromo ‚Äî Open community dictionary</p>
  </footer>

</div>

<!-- ‚úÖ PWA UI: install button + iOS help + update prompt + SW registration -->
<script src="{{ url_for('static', filename='pwa-ui.js') }}"></script>

</body>
</html>



